{
  "type":"origins:multiple",

  "flapmanager": {

    "type": "origins:action_over_time",
    "interval": 20,
    "entity_action": {
      "type": "origins:if_else_list",
      "actions": [
        {
          "condition": {
            "type": "origins:and",
            "conditions": [
              {
                "type":"origins:resource",
                "resource":"artificer:powertoggles_master",
                "comparison":"==",
                "compare_to":1

              },
              {
                "type":"origins:resource",
                "resource":"artificer:powertoggles_gildertoggle",
                "comparison":"==",
                "compare_to":1
              },
              {
                "type":"origins:resource",
                "resource":"artificer:haspowertoggles_hasflap",
                "comparison":"==",
                "compare_to":0
              },
              {
                "type": "origins:or",
                "conditions": [
                  {
                    "type": "origins:and",
                    "conditions": [
                      {
                        "type":"origins:resource",
                        "resource":"artificer:equipmenttoggles_diamondchestplate",
                        "comparison":"==",
                        "compare_to":1
                      },
                      {
                        "type":"origins:resource",
                        "resource":"artificer:powertoggles_gliderstate",
                        "comparison":"==",
                        "compare_to":1
                      },
                      {
                        "type":"origins:resource",
                        "resource":"artificer:powertoggles_hoverstate",
                        "comparison":"==",
                        "compare_to":0
                      }
                    ]
                  },
                  {
                    "type": "origins:and",
                    "conditions": [
                      {
                        "type":"origins:resource",
                        "resource":"artificer:equipmenttoggles_netheritechestplate",
                        "comparison":"==",
                        "compare_to":1
                      },
                      {
                        "type":"origins:resource",
                        "resource":"artificer:powertoggles_glidercreativestate",
                        "comparison":"==",
                        "compare_to":1
                      },
                      {
                        "type":"origins:resource",
                        "resource":"artificer:powertoggles_creativestate",
                        "comparison":"==",
                        "compare_to":0
                      }
                    ]
                  }
                ]
              }
            ]

          },
          "action": {

            "type": "origins:and",
            "actions": [
              {
                "type":"origins:change_resource",
                "resource":"artificer:haspowertoggles_hasflap",
                "operation": "set",
                "change":1
              },
              {
                "type": "origins:grant_power",
                "power": "artificer:crafteditempowers/flap",
                "source": "artificer:artificer"
              },
              {
                "type": "origins:execute_command",
                "command": "say Should have been granted flap"
              }
            ]
          }
        },
        {
          "condition": {

            "type": "origins:and",
            "conditions": [
              {
                "type":"origins:resource",
                "resource":"artificer:haspowertoggles_hasflap",
                "comparison":"==",
                "compare_to":1
              },
              {
                "type": "origins:or",
                "conditions": [
                  {
                    "type":"origins:resource",
                    "resource":"artificer:powertoggles_master",
                    "comparison":"==",
                    "compare_to":0

                  },
                  {
                    "type":"origins:resource",
                    "resource":"artificer:powertoggles_gildertoggle",
                    "comparison":"==",
                    "compare_to":0
                  },
                  {
                    "type": "origins:and",
                    "conditions": [
                      {
                        "type": "origins:and",
                        "conditions": [
                          {
                            "type":"origins:resource",
                            "resource":"artificer:equipmenttoggles_diamondchestplate",
                            "comparison":"==",
                            "compare_to":1
                          },
                          {
                            "type":"origins:resource",
                            "resource":"artificer:powertoggles_gliderstate",
                            "comparison":"==",
                            "compare_to":1
                          },
                          {
                            "type":"origins:resource",
                            "resource":"artificer:powertoggles_hoverstate",
                            "comparison":"==",
                            "compare_to":0
                          }
                        ],
                        "inverted": true

                      },
                      {
                        "type": "origins:and",
                        "conditions": [
                          {
                            "type":"origins:resource",
                            "resource":"artificer:equipmenttoggles_netheritechestplate",
                            "comparison":"==",
                            "compare_to":1
                          },
                          {
                            "type":"origins:resource",
                            "resource":"artificer:powertoggles_glidercreativestate",
                            "comparison":"==",
                            "compare_to":1
                          },
                          {
                            "type":"origins:resource",
                            "resource":"artificer:powertoggles_creativestate",
                            "comparison":"==",
                            "compare_to":0
                          }
                        ],
                        "inverted": true

                      }
                    ]
                  }
                ]
              }
            ]



          },
          "action":{



            "type": "origins:and",
            "actions": [
              {
                "type":"origins:change_resource",
                "resource":"artificer:haspowertoggles_hasflap",
                "operation": "set",
                "change":0
              }
            ,{
                "type": "origins:revoke_power",
                "power": "artificer:crafteditempowers/flap",
                "source": "artificer:artificer"
              },
              {
                "type": "origins:execute_command",
                "command": "say flap was revoked"
              }
            ]


          }
        }

      ]
    }
  }
}